version: "3.9"

services:
  users:
    build:
      context: ./services/users
    container_name: trailbox-users
    environment:
      - PORT=8001
    ports:
      - "8001:8001"
  routes:
    build:
      context: ./services/routes
    container_name: trailbox-routes
    environment:
      - PORT=8002
      - PEER_URL=http://users:8001
      - PEER_URL_2=http://workouts:8003
    ports:
      - "8002:8002"

  workouts:
    build:
      context: ./services/workouts
    container_name: trailbox-workouts
    environment:
      - PORT=8003
    ports:
      - "8003:8003"

